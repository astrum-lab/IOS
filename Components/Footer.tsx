import { View, TouchableOpacity } from "react-native";
import React, { useEffect } from "react";
import { SvgXml } from "react-native-svg";
import tw from "twrnc";
import { useNavigation } from "@react-navigation/native";
import { useSelector, useDispatch } from "react-redux";
import { useRoute } from "@react-navigation/native";

const Footer = () => {
  const state = useSelector((state:any) => state);
  const dispatch = useDispatch();

  const {route} = state.reducer;

  const navigation = useNavigation();

  const cog = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path opacity="0.34" d="M15 12C15 12.5933 14.8241 13.1734 14.4944 13.6667C14.1648 14.1601 13.6962 14.5446 13.1481 14.7716C12.5999 14.9987 11.9967 15.0581 11.4147 14.9424C10.8328 14.8266 10.2982 14.5409 9.87868 14.1213C9.45912 13.7018 9.1734 13.1672 9.05765 12.5853C8.94189 12.0033 9.0013 11.4001 9.22836 10.8519C9.45543 10.3038 9.83994 9.83524 10.3333 9.50559C10.8266 9.17595 11.4067 9 12 9C12.7957 9 13.5587 9.31607 14.1213 9.87868C14.6839 10.4413 15 11.2044 15 12Z" stroke="${
    route === "cog" ? "#5733d1" : "#292D32"
  }" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2 12.88V11.12C2.00158 10.6166 2.20227 10.1342 2.55825 9.77824C2.91422 9.42227 3.39658 9.22158 3.9 9.22C5.71 9.22 6.45 7.94 5.54 6.37C5.29015 5.93354 5.22353 5.41583 5.35474 4.93033C5.48596 4.44484 5.8043 4.03117 6.24 3.78L7.97 2.79C8.35203 2.56773 8.80663 2.50607 9.23406 2.61856C9.6615 2.73104 10.0269 3.00847 10.25 3.39L10.36 3.58C11.26 5.15 12.74 5.15 13.65 3.58L13.76 3.39C13.9831 3.00847 14.3485 2.73104 14.7759 2.61856C15.2034 2.50607 15.658 2.56773 16.04 2.79L17.77 3.78C18.2057 4.03117 18.524 4.44484 18.6553 4.93033C18.7865 5.41583 18.7199 5.93354 18.47 6.37C17.56 7.94 18.3 9.22 20.11 9.22C20.6134 9.22158 21.0958 9.42227 21.4518 9.77824C21.8077 10.1342 22.0084 10.6166 22.01 11.12V12.88C22.0084 13.3834 21.8077 13.8658 21.4518 14.2218C21.0958 14.5777 20.6134 14.7784 20.11 14.78C18.3 14.78 17.56 16.06 18.47 17.63C18.7199 18.0665 18.7865 18.5842 18.6553 19.0697C18.524 19.5552 18.2057 19.9688 17.77 20.22L16.04 21.21C15.658 21.4323 15.2034 21.4939 14.7759 21.3814C14.3485 21.269 13.9831 20.9915 13.76 20.61L13.65 20.42C12.75 18.85 11.27 18.85 10.36 20.42L10.25 20.61C10.0269 20.9915 9.6615 21.269 9.23406 21.3814C8.80663 21.4939 8.35203 21.4323 7.97 21.21L6.24 20.22C5.8043 19.9688 5.48596 19.5552 5.35474 19.0697C5.22353 18.5842 5.29015 18.0665 5.54 17.63C6.45 16.06 5.71 14.78 3.9 14.78C3.39658 14.7784 2.91422 14.5777 2.55825 14.2218C2.20227 13.8658 2.00158 13.3834 2 12.88V12.88Z" stroke="${
    route === "cog" ? "#5733d1" : "#292D32"
  }" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`;

  const home = `
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M18.04 13.55C17.8244 13.7595 17.6585 14.0147 17.5546 14.2968C17.4508 14.5789 17.4116 14.8807 17.44 15.18C17.5047 15.7038 17.7614 16.1849 18.1604 16.5303C18.5594 16.8758 19.0724 17.0609 19.6 17.05H21.5V18.24C21.4979 19.2366 21.1011 20.1917 20.3964 20.8964C19.6917 21.6011 18.7366 21.9979 17.74 22H6.26C5.26344 21.9979 4.30829 21.6011 3.60361 20.8964C2.89893 20.1917 2.50211 19.2366 2.5 18.24L2.5 11.51C2.50211 10.5134 2.89893 9.55829 3.60361 8.85361C4.30829 8.14893 5.26344 7.75211 6.26 7.75L17.74 7.75C18.7366 7.75211 19.6917 8.14893 20.3964 8.85361C21.1011 9.55829 21.4979 10.5134 21.5 11.51V12.95H19.48C19.212 12.948 18.9463 13.0002 18.6989 13.1033C18.4514 13.2063 18.2273 13.3583 18.04 13.55V13.55Z" stroke="${
    route === "home" ? "#5733d1" : "#292D32"
  }" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path opacity="0.4" d="M2.50001 12.41V7.84C2.49872 7.26062 2.67416 6.69463 3.00292 6.21757C3.33169 5.7405 3.79813 5.37505 4.34001 5.17L12.28 2.17C12.5674 2.0617 12.8767 2.02468 13.1815 2.0621C13.4863 2.09952 13.7775 2.21027 14.0302 2.38486C14.2828 2.55945 14.4894 2.79267 14.6322 3.06456C14.7749 3.33645 14.8497 3.6389 14.85 3.946V7.746" stroke="${
    route === "home" ? "#5733d1" : "#292D32"
  }" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M22.5601 13.97V16.03C22.5584 16.2966 22.4531 16.552 22.2665 16.7423C22.0799 16.9327 21.8266 17.043 21.5601 17.05H19.6001C19.0725 17.0609 18.5596 16.8758 18.1606 16.5303C17.7616 16.1849 17.5049 15.7038 17.4401 15.18C17.4117 14.8807 17.4509 14.5789 17.5548 14.2968C17.6586 14.0147 17.8245 13.7595 18.0401 13.55C18.2275 13.3583 18.4516 13.2064 18.699 13.1033C18.9464 13.0002 19.2121 12.948 19.4801 12.95H21.5601C21.8266 12.957 22.0799 13.0673 22.2665 13.2577C22.4531 13.448 22.5584 13.7035 22.5601 13.97V13.97Z" stroke="${
    route === "home" ? "#5733d1" : "#292D32"
  }" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path opacity="0.4" d="M7 12H14" stroke="${
    route === "home" ? "#5733d1" : "#292D32"
  }" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

`;

  const search = `
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17.8001 2.1L7.87009 4.59C7.09672 4.8266 6.39323 5.24939 5.82136 5.82127C5.24948 6.39314 4.82669 7.09663 4.59009 7.87L2.10009 17.8C1.35009 20.8 3.19009 22.65 6.20009 21.9L16.1301 19.42C16.9018 19.1803 17.6037 18.7564 18.1751 18.185C18.7465 17.6136 19.1704 16.9117 19.4101 16.14L21.9001 6.2C22.6501 3.2 20.8001 1.35 17.8001 2.1Z" stroke="${
    route === "search" ? "#5733d1" : "#292D32"
  }" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path opacity="0.4" d="M15.5 12C15.5 12.6922 15.2947 13.3689 14.9101 13.9445C14.5256 14.5201 13.9789 14.9687 13.3394 15.2336C12.6999 15.4985 11.9961 15.5678 11.3172 15.4327C10.6383 15.2977 10.0146 14.9644 9.52513 14.4749C9.03564 13.9854 8.7023 13.3617 8.56725 12.6828C8.4322 12.0039 8.50152 11.3001 8.76642 10.6606C9.03133 10.0211 9.47993 9.47444 10.0555 9.08986C10.6311 8.70527 11.3078 8.5 12 8.5C12.9283 8.5 13.8185 8.86875 14.4749 9.52513C15.1313 10.1815 15.5 11.0717 15.5 12V12Z" stroke="${
    route === "search" ? "#5733d1" : "#292D32"
  }" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`;

  return (
    <View
      style={[
        tw`absolute flex flex-row w-11/12 justify-around h-12 items-center rounded-2xl`,
        {
          left: "4%",
          bottom: 20,
          backgroundColor: "white",
        },
      ]}
    >
      <TouchableOpacity
        onPress={() => {
          dispatch({ type: "SET_ROUTE", payload: "home" });
          navigation.navigate("Main" as never);
        }}
      >
        <SvgXml xml={home} width="30" height="30" />
      </TouchableOpacity>
      <TouchableOpacity
        onPress={() => {
          dispatch({ type: "SET_ROUTE", payload:"search" });
          navigation.navigate("Users" as never);
        }}
      >
        <SvgXml xml={search} width="30" height="30" />
      </TouchableOpacity>
      <TouchableOpacity
        onPress={() => {
          dispatch({ type: "SET_ROUTE", payload: "cog" });
          navigation.navigate("Settings" as never);
        }}
      >
        <SvgXml xml={cog} width="30" height="30" />
      </TouchableOpacity>
    </View>
  );
};

export default Footer;
